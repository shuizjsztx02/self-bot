---
name: code-reviewer
description: 审查代码质量、安全性和最佳实践。适用于需要检查代码问题、提供改进建议的场景。
version: "1.0.0"
tags:
  - code
  - review
  - security
  - 代码
  - 审查
  - 安全
priority: 10
dependencies:
  tools:
    - read_file
    - execute_code
permissions:
  allowed_tools:
    - read_file
    - list_directory
  forbidden_tools:
    - delete_file
    - move_file
---

# 代码审查技能

## 概述

此技能用于审查代码，检查潜在问题并提供改进建议。

## 审查维度

### 1. 代码质量
- 命名规范
- 代码结构
- 注释完整性
- 重复代码

### 2. 安全性
- SQL 注入风险
- XSS 漏洞
- 敏感信息泄露
- 输入验证

### 3. 性能
- 算法复杂度
- 内存使用
- 数据库查询优化

### 4. 可维护性
- 模块化程度
- 依赖管理
- 错误处理

## 审查流程

### 步骤 1: 读取代码
使用 `read_file` 工具读取需要审查的代码文件。

### 步骤 2: 分析代码
按照审查维度逐一检查代码。

### 步骤 3: 生成报告
输出结构化的审查报告。

## 报告格式

```markdown
# 代码审查报告

## 文件: [文件名]

### 问题列表

#### 🔴 严重问题
| 行号 | 问题类型 | 描述 | 建议 |
|------|---------|------|------|
| 42 | 安全 | SQL 注入风险 | 使用参数化查询 |

#### 🟡 中等问题
| 行号 | 问题类型 | 描述 | 建议 |
|------|---------|------|------|
| 15 | 性能 | 循环中重复计算 | 提取到循环外 |

#### 🟢 建议改进
| 行号 | 问题类型 | 描述 | 建议 |
|------|---------|------|------|
| 8 | 风格 | 变量命名不规范 | 使用 snake_case |

### 总体评分
代码质量: ⭐⭐⭐☆☆ (3/5)

### 改进建议
1. 优先修复安全问题
2. 重构重复代码
3. 添加单元测试
```

## 注意事项

- 不要执行用户代码
- 只读取文件，不修改
- 提供具体的改进建议
